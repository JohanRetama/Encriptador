<!DOCTYPE html>

<html lang="es">

	<head>

		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width">
		<title>Encriptador</title>
		<link rel="stylesheet" href="reset.css">
		<link rel="stylesheet" href="style.css">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap" rel="stylesheet">

	</head>

	<body class="cuerpo">
		<img id="logo" src="logo_j_v2.png">
		<textarea id="Caja_encriptar"  placeholder="Ingrese el texto aquí"></textarea>
		<div id="exclamacion">
			<img id="img_exclamacion" src="exclamacion.png", alt="Signo exclamación">
			<div id="texto_exclamacion">Solo letras minúsculas y sin acentos</div>
		</div>
		<button class="B_encriptar" onclick="boton_encriptar()">Encriptar</button>
		<button class="B_desencriptar" onclick="boton_desencriptar()">Desencriptar</button>

		<div id="contenedor">
			<img id="imagen" src="stand.png", alt="ImagenS Standby">
		</div>
	</body>

</html>


<script>

	function boton_encriptar(){
		resetear();
		codificarTexto();

	}

	function boton_desencriptar(){
		resetear();
		decodificarTexto();
	}


	function limpiarDiv() {
  		var div = document.getElementById("contenedor");
  		while (div.firstChild) {
    		div.removeChild(div.firstChild);
		}
	}

	function resetear() {
		limpiarDiv();

		var cuadroTexto = document.createElement("textarea");
		cuadroTexto.id = "cuadroTexto"

		contenedor.appendChild(cuadroTexto);
		document.getElementById("cuadroTexto").readOnly = true;
		generarBotonCopiar()
		limpiarCuadro()

	}

	function codificarTexto(){
		var texto = document.getElementById("Caja_encriptar").value;
		var cambios = {
			"a": "asd",
			"e": "enter",
			"i": "imes",
			"o": "ober",
			"u": "ufat"
		};

		var textoModificado = texto.replace(/[aeiou]/g, function(letra) {
    		return cambios[letra];
  		});
  		document.getElementById("cuadroTexto").value = textoModificado;
	}

	function decodificarTexto(){
		var texto = document.getElementById("Caja_encriptar").value;
		var cambios ={
			"asd": "a",
			"enter": "e",
			"imes": "i",
			"ober": "o",
			"ufat": "u",
		};
		var textoModificado = texto.replace(/asd|enter|imes|ober|ufat/g, function(letra) {
    		return cambios[letra];
  		});
  		document.getElementById("cuadroTexto").value = textoModificado;
	}


	function generarBotonCopiar() {
		// Crear el elemento del botón
		var boton = document.createElement("button");
		boton.id = "boton_copia"
	  
		// Agregar texto al botón
		boton.textContent = "Copiar";
	  
		// Obtener el cuadro de texto
		var cuadroTexto_copia = document.getElementById("cuadroTexto");
	  
		// Agregar un controlador de eventos al botón
		boton.addEventListener("click", function() {
	    // Seleccionar el contenido del cuadro de texto
	    cuadroTexto_copia.select();
	    
	    // copia el contenido al portapapeles
	    document.execCommand("copy");
	  	});
	  
		// Obtener el elemento contenedor donde se agregará el botón
		var contenedor_copia = document.getElementById("contenedor");
	  
		// Agregar el botón al contenedor
		contenedor.appendChild(boton);
	}

	function limpiarCuadro(){
		// Obtener el cuadro de texto
		var cuadroTexto = document.getElementById("Caja_encriptar");

		// Agregar un controlador de eventos al cuadro de texto
		cuadroTexto.addEventListener("click", function() {
			
			// Borrar el contenido del cuadro de texto
			cuadroTexto.value = "";
		});

	}
</script>